{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_KEY = '32386885-8dbf1bc36075d10a6eaf5580b';\r\naxios.defaults.baseURL = 'https://pixabay.com/';\r\n\r\nconst getImagesByQuery = query => {\r\n  return axios('/api', {\r\n    params: {\r\n      key: API_KEY,\r\n      q: `${query}`,\r\n      image_type: 'photo',\r\n      orientation: 'horizontal',\r\n      safesearch: 'true',\r\n    },\r\n  })\r\n    .then(res => res.data)\r\n    .catch(error => {\r\n      error.massage;\r\n      return [];\r\n    });\r\n};\r\nexport default getImagesByQuery;\r\n","import SimpleLightbox from 'simplelightbox';\r\nimport 'simplelightbox/dist/simple-lightbox.min.css';\r\n\r\nlet lightbox = null;\r\n\r\nexport const createGallery = images => {\r\n  return images\r\n    .map(\r\n      ({\r\n        webformatURL,\r\n        largeImageURL,\r\n        tags,\r\n        likes,\r\n        views,\r\n        comments,\r\n        downloads,\r\n      }) => {\r\n        return `\r\n      <li class='gallery-img-item'>\r\n        <a href='${largeImageURL}'>\r\n          <img src=\"${webformatURL}\" alt=\"${tags} \"/>\r\n        </a>\r\n        <div class='gallery-wrapper-text'>\r\n          <p class='gallery-img-text'>Likes <span class='gallery-span'>${likes}</span></p>\r\n          <p class='gallery-img-text'>Views<span class='gallery-span'>${views}</span></p>\r\n          <p class='gallery-img-text'>Comments<span class='gallery-span'>${comments}</span></p>\r\n          <p class='gallery-img-text'>Downloads<span class='gallery-span'>${downloads}</span></p>\r\n        </div>\r\n      </li>\r\n        `;\r\n      }\r\n    )\r\n    .join('');\r\n};\r\n\r\nexport const initLightbox = () => {\r\n  if (!lightbox) {\r\n    lightbox = new SimpleLightbox('.gallery a', {\r\n      captionsData: 'alt',\r\n      captionDelay: 250,\r\n    });\r\n  } else {\r\n    lightbox.refresh();\r\n  }\r\n};\r\n\r\nexport const clearGallery = gallery => {\r\n  gallery.innerHTML = '';\r\n};\r\n\r\n// const showLoader = () => {\r\n//   img.innerHTML = 'Loading';\r\n// };\r\n\r\n// const hideLoader = () => {\r\n//   img.innerHTML = '';\r\n// };\r\n","import iziToast from 'izitoast';\r\nimport 'izitoast/dist/css/iziToast.min.css';\r\n\r\nimport getImagesByQuery from './js/pixabay-api';\r\nimport {\r\n  createGallery,\r\n  initLightbox,\r\n  clearGallery,\r\n} from './js/render-functions';\r\n\r\nconst refs = {\r\n  form: document.querySelector('.form'),\r\n  gallery: document.querySelector('.gallery'),\r\n  loader: document.querySelector('.loader'),\r\n};\r\n\r\nrefs.form.addEventListener('submit', e => {\r\n  e.preventDefault();\r\n  const query = e.target.elements.search.value.trim();\r\n\r\n  clearGallery(refs.gallery);\r\n\r\n  if (!query) {\r\n    return;\r\n  }\r\n\r\n  refs.loader.classList.remove('hidden');\r\n\r\n  getImagesByQuery(query)\r\n    .then(res => {\r\n      if (res.hits.length === 0) {\r\n        iziToast.show({\r\n          position: 'topRight',\r\n          iconUrl: './img/Group (1).svg',\r\n          messageColor: 'rgba(255, 255, 255, 1)',\r\n          color: 'rgba(239, 64, 64, 1)',\r\n          message:\r\n            'Sorry, there are no images matching </br> your search query. Please try again!',\r\n        });\r\n      } else {\r\n        refs.gallery.insertAdjacentHTML('beforeend', createGallery(res.hits));\r\n        initLightbox();\r\n      }\r\n    })\r\n    .catch(error => {\r\n      error.message;\r\n    })\r\n    .finally(() => {\r\n      refs.form.reset();\r\n      refs.loader.classList.add('hidden');\r\n    });\r\n});\r\n"],"names":["API_KEY","axios","getImagesByQuery","query","res","error","lightbox","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","initLightbox","SimpleLightbox","clearGallery","gallery","refs","e","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCAChBC,EAAM,SAAS,QAAU,uBAEzB,MAAMC,EAAmBC,GAChBF,EAAM,OAAQ,CACnB,OAAQ,CACN,IAAKD,EACL,EAAG,GAAGG,CAAK,GACX,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,CACA,CAAG,EACE,KAAKC,GAAOA,EAAI,IAAI,EACpB,MAAMC,IACLA,EAAM,QACC,GACR,EChBL,IAAIC,EAAW,KAER,MAAMC,EAAgBC,GACpBA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,mBAEIL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,yEAGyBC,CAAK;AAAA,wEACNC,CAAK;AAAA,2EACFC,CAAQ;AAAA,4EACPC,CAAS;AAAA;AAAA;AAAA,SAKrF,EACK,KAAK,EAAE,EAGCC,EAAe,IAAM,CAC3BV,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIW,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,EAEaC,EAAeC,GAAW,CACrCA,EAAQ,UAAY,EACtB,ECtCMC,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,EACpC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,GAAK,CACxCA,EAAE,eAAc,EAChB,MAAMlB,EAAQkB,EAAE,OAAO,SAAS,OAAO,MAAM,OAE7CH,EAAaE,EAAK,OAAO,EAEpBjB,IAILiB,EAAK,OAAO,UAAU,OAAO,QAAQ,EAErClB,EAAiBC,CAAK,EACnB,KAAKC,GAAO,CACPA,EAAI,KAAK,SAAW,EACtBkB,EAAS,KAAK,CACZ,SAAU,WACV,QAAS,sBACT,aAAc,yBACd,MAAO,uBACP,QACE,gFACZ,CAAS,GAEDF,EAAK,QAAQ,mBAAmB,YAAab,EAAcH,EAAI,IAAI,CAAC,EACpEY,IAEJ,CAAC,EACA,MAAMX,GAAS,CACdA,EAAM,OACR,CAAC,EACA,QAAQ,IAAM,CACbe,EAAK,KAAK,QACVA,EAAK,OAAO,UAAU,IAAI,QAAQ,CACpC,CAAC,EACL,CAAC"}